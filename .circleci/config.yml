version: 2
jobs:
  build:

  getdockerimage:
    working_directory: /tmp
    docker:
      - image: docker:stable-git
    steps:
      - run:
          name: "Getting image with provided tag from Staging environment"
          command: |
            echo test

  hold:

  pushtoprod:
    steps:
      - run:
          name: "Push image from Staging to Production..."
          command: |
            echo test

workflows:
  version: 2
  getimage-approval-deploy:
    jobs:
      - build
      - hold:
          type: approval
          requires:
           - getdockerimage 
      - pushtoprod:
          requires:
            - hold
